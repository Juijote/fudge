// Progress bar / IO monitoring backend// Copyright 2024 by Daniel C (https://github.com/petabyt/camlib)#include <camlib.h>#include <time.h>#include <dlfcn.h>#include "app.h"#include "backend.h"JNI_FUNC(jboolean, cSetProgressBarObj)(JNIEnv *env, jobject thiz, jobject pg, jint size) {	static clock_t tm;	if (pg == NULL) {		plat_dbg("Time taken to download: %f", (double)(clock() - tm) / CLOCKS_PER_SEC);		(*env)->DeleteGlobalRef(env, backend.progress_bar);		backend.progress_bar = NULL;		return 0;	}	tm = clock();	backend.download_size = size;	backend.download_progress = 0;	backend.progress_bar = (*env)->NewGlobalRef(env, pg);	return 0;}